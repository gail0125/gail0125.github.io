---
layout:	title
single: 14장 video
---

#video

아래 코드들이 버튼을 눌러서 내부 영상 파일을 재생시키는 것과 또 다른 버튼을 누르면 외부 링크에 접속해서 영상을 재생시키는 어플리케이션의 코드입니다.


import UIKit
import AVKit

class ViewController: UIViewController {
override func viewDidLoad() {
    super.viewDidLoad()
    // Do any additional setup after loading the view.
}



@IBAction func btnPlayInternalMovie(_ sender: UIButton) {
    let filePath:String? = Bundle.main.path(forResource: "FastTyping", ofType: "mp4")
    let url = NSURL(fileURLWithPath: filePath!)
    playVideo(url: url)
}



위 코드가 비디오 파일명을 사용해서 비디오가 저장된 내부파일 경로를 받아와 앱 내부의 파일명 NSURL로 변경해서
그URL을 사용해서 비디오를 재생하는 코드이다.




@IBAction func btnPlayerExternalMovie(_ sender: UIButton) {{   

    let url = NSURL(string: "https://dl.dropboxusercontent.com/s/e38auz050w2mvud/Fireworks.mp4")!
    
    playVideo(url: url)
}



위 코드는 외부의 링크를 NSURL 형식으로 변경하고 URL을 사용해서 비디오를 재생한다. 




private func playVideo(url: NSURL)  {
   let playerController = AVPlayerViewController()
   let player = AVPlayer(url: url as URL)
   playerController.player = player
   self.present(playerController, animated: true) {
       player.play()
       
    }
    
}

}



위 는 AVPlayerViewController의 인스턴스를 생성하고 비디오 URL로 초기화된 AVPlayer의 인스턴스를 생성, AVPlayerViewController 속성에 의해서 생성한 AVplayer 인스턴스를 할당하고 비디오를 재생한다
